(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a4b3eda"],{"2bc0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"list-product list-client"},[s("ul",[s("li",{staticClass:"title-item-sale"},[s("span",[t._v(t._s(t.dados.itens.length+(1==t.dados.itens.length?" ITEM":" ITENS")))]),s("div",[t.dados.itens.length>0?s("el-button",{attrs:{title:"Adicionar Produto",size:"small",type:"success"},on:{click:function(e){return t.onSubmitSale()}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" CONLUIR COMPRA ")]):t._e(),s("el-button",{staticClass:"u-ml-5",attrs:{title:"Adicionar Produto",size:"small",type:"primary"},on:{click:function(e){return t.openDialogAddProduct()}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" PRODUTO ")])],1)]),t._l(t.dados.itens,(function(e,i){return s("li",{key:i,staticClass:"item-sale"},[s("a",{attrs:{href:"javascript:void(0)"}},[t._m(0,!0),s("div",{staticClass:"description-product"},[s("h3",[t._v(t._s(e.name))]),s("b",[t._v(t._s(e.description))]),s("i",[t._v("R$ "+t._s(e.price)+" / un")])]),s("div",{staticClass:"info-item"},[s("div",{staticClass:"quanty-product"},[s("i",{staticClass:"u-text-right"},[s("ul",{staticClass:"comp-update-quanty"},[s("li",{on:{click:function(e){return t.updateIncrementQuanty(i)}}},[t._m(1,!0)]),s("li",[s("div",{staticClass:"value-update-quanty"},[t._v(" "+t._s(e.quanty)+" ")])]),s("li",{on:{click:function(e){return t.updateDecrementQuanty(i)}}},[t._m(2,!0)])])])]),s("div",{staticClass:"price-product"},[t._v(" R$ "+t._s(t.calcSubTotal(i))+" ")])])])])})),t.dados.itens.length>0?s("li",{staticClass:"total-sale"},[s("div",{staticClass:"container-total-sale"},[s("div",{staticClass:"title-total-sale"},[t._v(" Total ")]),s("div",{staticClass:"price-total-sale"},[t._v(" R$ "+t._s(t.dados.total_sale)+" ")])])]):t._e(),0==t.dados.itens.length?s("li",{staticStyle:{"border-bottom":"1px solid #e6e6e6"}},[t._m(3)]):t._e()],2)]),s("el-dialog",{attrs:{"close-on-click-modal":!1,title:"Selecione um produto",width:"70%",visible:t.dialogAddProduct},on:{"update:visible":function(e){t.dialogAddProduct=e},close:function(e){return t.resetFormAddProduct()}}},[t.dialogAddProduct?s("div",[s("div",[s("div",{staticClass:"list-product-search"},[t.loadingProducts?t._e():s("ul",t._l(t.produtos,(function(e,i){return s("li",{key:i,staticClass:"item-sale",on:{click:function(s){return t.addProductSale(e)}}},[s("a",{attrs:{href:"javascript:void(0)"}},[s("div",{staticClass:"description-product"},[s("h3",[t._v(t._s(e.name))]),s("b",[t._v(t._s(e.description))])]),s("div",{staticClass:"info-item"},[s("div",{staticClass:"price-product"},[t._v(" R$ "+t._s(e.price)+" ")])])])])})),0),t.loadingProducts?s("div",{staticClass:"loadingProducts"},[s("img",{attrs:{src:"/public/img/loading-bar.gif"}})]):t._e()])])]):t._e()])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"image-product"},[s("img",{attrs:{src:"https://cdn.seu.menu/uploads/avatar/99415-2020-07-16-19-06.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-update-quanty"},[s("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-update-quanty"},[s("i",{staticClass:"fas fa-minus"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"u-text-center u-mt-20 u-mb-20"},[s("i",{staticClass:"fas fa-utensils u-mr-5"}),t._v(" nenhum produto ")])}],n=s("2b0e");const o=s("9dcd");var a={data:()=>({loadingProducts:!1,dialogAddProduct:!1,dados:{itens:[],total_sale:0},formLogin:{email:"",password:""},formRegister:{name:"",phone:"",andress:"",email:"",password:""},produtos:[]}),mounted(){this.$store.state.tokenClient&&this.$store.dispatch("getUser","client")},methods:{onSubmitSale(){this.$store.state.tokenClient?this.$axios.post(this.$store.state.baseUrlApi+"/api/sale/store",this.dados,this.$store.getters.getHeaderAuthClient).then(t=>{this.$message({message:"Operação realizada com sucesso!.",type:"success",duration:5e3}),this.$router.push("/")}).catch(t=>{this.$store.commit("throwException",t)}):this.$store.commit("openDialogAutentication",{status:!0,form:"login"})},openDialogAddProduct(){this.getAllProduct(),this.dialogAddProduct=!0},getAllProduct(){this.loadingProducts=!0,this.produtos=[],this.$axios.get(this.$store.state.baseUrlApi+"/api/product/getAll",this.$store.getters.getHeaderAuthClient).then(t=>{this.produtos=t.data,this.loadingProducts=!1}).catch(t=>{this.$store.commit("throwException",t)})},addProductSale(t){n["default"].set(t,"quanty",1),n["default"].set(t,"sub_total",0),n["default"].set(t,"produto_id",t.id),this.dados.itens.push(t),this.dialogAddProduct=!1},calcSubTotal(t){let e=new o(this.dados.itens[t].price?this.dados.itens[t].price:0),s=new o(this.dados.itens[t].quanty?this.dados.itens[t].quanty:0),i=e.mul(s);return this.dados.itens[t].sub_total=i.toFixed(2),this.calcTotal(),i.toFixed(2)},calcTotal(){let t=new o(0);for(let e in this.dados.itens)t=t.add(new o(this.dados.itens[e].sub_total));this.dados.total_sale=t.toFixed(2)},updateIncrementQuanty(t){this.dados.itens[t].quanty++,this.calcSubTotal(t)},updateDecrementQuanty(t){this.dados.itens[t].quanty>1&&(this.dados.itens[t].quanty--,this.calcSubTotal(t))},resetFormAddProduct(){}}},c=a,l=s("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);e["default"]=u.exports},"9dcd":function(t,e,s){var i;(function(r){"use strict";var n,o=20,a=1,c=1e6,l=1e6,u=-7,d=21,f="[big.js] ",h=f+"Invalid ",p=h+"decimal places",v=h+"rounding mode",m=f+"Division by zero",g={},_=void 0,w=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function b(){function t(e){var s=this;if(!(s instanceof t))return e===_?b():new t(e);e instanceof t?(s.s=e.s,s.e=e.e,s.c=e.c.slice()):C(s,e),s.constructor=t}return t.prototype=g,t.DP=o,t.RM=a,t.NE=u,t.PE=d,t.version="5.2.2",t}function C(t,e){var s,i,r;if(0===e&&1/e<0)e="-0";else if(!w.test(e+=""))throw Error(h+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(s=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(s<0&&(s=i),s+=+e.slice(i+1),e=e.substring(0,i)):s<0&&(s=e.length),r=e.length,i=0;i<r&&"0"==e.charAt(i);)++i;if(i==r)t.c=[t.e=0];else{for(;r>0&&"0"==e.charAt(--r););for(t.e=s-i-1,t.c=[],s=0;i<=r;)t.c[s++]=+e.charAt(i++)}return t}function P(t,e,s,i){var r=t.c,n=t.e+e+1;if(n<r.length){if(1===s)i=r[n]>=5;else if(2===s)i=r[n]>5||5==r[n]&&(i||n<0||r[n+1]!==_||1&r[n-1]);else if(3===s)i=i||!!r[0];else if(i=!1,0!==s)throw Error(v);if(n<1)r.length=1,i?(t.e=-e,r[0]=1):r[0]=t.e=0;else{if(r.length=n--,i)for(;++r[n]>9;)r[n]=0,n--||(++t.e,r.unshift(1));for(n=r.length;!r[--n];)r.pop()}}else if(s<0||s>3||s!==~~s)throw Error(v);return t}function A(t,e,s,i){var r,n,o=t.constructor,a=!t.c[0];if(s!==_){if(s!==~~s||s<(3==e)||s>c)throw Error(3==e?h+"precision":p);for(t=new o(t),s=i-t.e,t.c.length>++i&&P(t,s,o.RM),2==e&&(i=t.e+s+1);t.c.length<i;)t.c.push(0)}if(r=t.e,n=t.c.join(""),s=n.length,2!=e&&(1==e||3==e&&i<=r||r<=o.NE||r>=o.PE))n=n.charAt(0)+(s>1?"."+n.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)n="0"+n;n="0."+n}else if(r>0)if(++r>s)for(r-=s;r--;)n+="0";else r<s&&(n=n.slice(0,r)+"."+n.slice(r));else s>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&(!a||4==e)?"-"+n:n}g.abs=function(){var t=new this.constructor(this);return t.s=1,t},g.cmp=function(t){var e,s=this,i=s.c,r=(t=new s.constructor(t)).c,n=s.s,o=t.s,a=s.e,c=t.e;if(!i[0]||!r[0])return i[0]?n:r[0]?-o:0;if(n!=o)return n;if(e=n<0,a!=c)return a>c^e?1:-1;for(o=(a=i.length)<(c=r.length)?a:c,n=-1;++n<o;)if(i[n]!=r[n])return i[n]>r[n]^e?1:-1;return a==c?0:a>c^e?1:-1},g.div=function(t){var e=this,s=e.constructor,i=e.c,r=(t=new s(t)).c,n=e.s==t.s?1:-1,o=s.DP;if(o!==~~o||o<0||o>c)throw Error(p);if(!r[0])throw Error(m);if(!i[0])return new s(0*n);var a,l,u,d,f,h=r.slice(),v=a=r.length,g=i.length,w=i.slice(0,a),b=w.length,C=t,A=C.c=[],y=0,E=o+(C.e=e.e-t.e)+1;for(C.s=n,n=E<0?0:E,h.unshift(0);b++<a;)w.push(0);do{for(u=0;u<10;u++){if(a!=(b=w.length))d=a>b?1:-1;else for(f=-1,d=0;++f<a;)if(r[f]!=w[f]){d=r[f]>w[f]?1:-1;break}if(!(d<0))break;for(l=b==a?r:h;b;){if(w[--b]<l[b]){for(f=b;f&&!w[--f];)w[f]=9;--w[f],w[b]+=10}w[b]-=l[b]}for(;!w[0];)w.shift()}A[y++]=d?u:++u,w[0]&&d?w[b]=i[v]||0:w=[i[v]]}while((v++<g||w[0]!==_)&&n--);return A[0]||1==y||(A.shift(),C.e--),y>E&&P(C,o,s.RM,w[0]!==_),C},g.eq=function(t){return!this.cmp(t)},g.gt=function(t){return this.cmp(t)>0},g.gte=function(t){return this.cmp(t)>-1},g.lt=function(t){return this.cmp(t)<0},g.lte=function(t){return this.cmp(t)<1},g.minus=g.sub=function(t){var e,s,i,r,n=this,o=n.constructor,a=n.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,n.plus(t);var l=n.c.slice(),u=n.e,d=t.c,f=t.e;if(!l[0]||!d[0])return d[0]?(t.s=-c,t):new o(l[0]?n:0);if(a=u-f){for((r=a<0)?(a=-a,i=l):(f=u,i=d),i.reverse(),c=a;c--;)i.push(0);i.reverse()}else for(s=((r=l.length<d.length)?l:d).length,a=c=0;c<s;c++)if(l[c]!=d[c]){r=l[c]<d[c];break}if(r&&(i=l,l=d,d=i,t.s=-t.s),(c=(s=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;s>a;){if(l[--s]<d[s]){for(e=s;e&&!l[--e];)l[e]=9;--l[e],l[s]+=10}l[s]-=d[s]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--f;return l[0]||(t.s=1,l=[f=0]),t.c=l,t.e=f,t},g.mod=function(t){var e,s=this,i=s.constructor,r=s.s,n=(t=new i(t)).s;if(!t.c[0])throw Error(m);return s.s=t.s=1,e=1==t.cmp(s),s.s=r,t.s=n,e?new i(s):(r=i.DP,n=i.RM,i.DP=i.RM=0,s=s.div(t),i.DP=r,i.RM=n,this.minus(s.times(t)))},g.plus=g.add=function(t){var e,s=this,i=s.constructor,r=s.s,n=(t=new i(t)).s;if(r!=n)return t.s=-n,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]?t:new i(a[0]?s:0*r);if(a=a.slice(),r=o-c){for(r>0?(c=o,e=l):(r=-r,e=a),e.reverse();r--;)e.push(0);e.reverse()}for(a.length-l.length<0&&(e=l,l=a,a=e),r=l.length,n=0;r;a[r]%=10)n=(a[--r]=a[r]+l[r]+n)/10|0;for(n&&(a.unshift(n),++c),r=a.length;0===a[--r];)a.pop();return t.c=a,t.e=c,t},g.pow=function(t){var e=this,s=new e.constructor(1),i=s,r=t<0;if(t!==~~t||t<-l||t>l)throw Error(h+"exponent");for(r&&(t=-t);;){if(1&t&&(i=i.times(e)),t>>=1,!t)break;e=e.times(e)}return r?s.div(i):i},g.round=function(t,e){var s=this.constructor;if(t===_)t=0;else if(t!==~~t||t<-c||t>c)throw Error(p);return P(new s(this),t,e===_?s.RM:e)},g.sqrt=function(){var t,e,s,i=this,r=i.constructor,n=i.s,o=i.e,a=new r(.5);if(!i.c[0])return new r(i);if(n<0)throw Error(f+"No square root");n=Math.sqrt(i+""),0===n||n===1/0?(e=i.c.join(""),e.length+o&1||(e+="0"),n=Math.sqrt(e),o=((o+1)/2|0)-(o<0||1&o),t=new r((n==1/0?"1e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+o)):t=new r(n),o=t.e+(r.DP+=4);do{s=t,t=a.times(s.plus(i.div(s)))}while(s.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return P(t,r.DP-=4,r.RM)},g.times=g.mul=function(t){var e,s=this,i=s.constructor,r=s.c,n=(t=new i(t)).c,o=r.length,a=n.length,c=s.e,l=t.e;if(t.s=s.s==t.s?1:-1,!r[0]||!n[0])return new i(0*t.s);for(t.e=c+l,o<a&&(e=r,r=n,n=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+n[c]*r[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=(e[l]+a)%10}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},g.toExponential=function(t){return A(this,1,t,t)},g.toFixed=function(t){return A(this,2,t,this.e+t)},g.toPrecision=function(t){return A(this,3,t,t-1)},g.toString=function(){return A(this)},g.valueOf=g.toJSON=function(){return A(this,4)},n=b(),n["default"]=n.Big=n,i=function(){return n}.call(e,s,e,t),void 0===i||(t.exports=i)})()}}]);
//# sourceMappingURL=chunk-5a4b3eda.56343cb8.js.map