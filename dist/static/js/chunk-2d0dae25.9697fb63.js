(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dae25"],{"6e00":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-sale"},[s("div",{staticClass:"targe"},[s("div",{staticClass:"container"},[s("img",{attrs:{src:"/public/img/log-rits.png"}}),s("div",{staticClass:"btns"},[s("div",{staticClass:"btn-painel",on:{click:function(e){return t.openAreaAdministrative()}}},[t._v("Admin")]),t.$store.state.tokenClient?t._e():s("div",{staticClass:"btn-register",on:{click:function(e){return t.openDialogAutentication("register")}}},[t._v("Cadastrar")]),t.$store.state.tokenClient?t._e():s("div",{staticClass:"btn-login",on:{click:function(e){return t.openDialogAutentication("login")}}},[t._v("Login")]),t.$store.state.tokenClient?s("div",{staticClass:"logout",on:{click:function(e){return t.openMySales()}}},[t._v("Meus Pedidos")]):t._e(),t.$store.state.tokenClient?s("div",{staticClass:"logout",on:{click:function(e){return t.logout()}}},[t._v("Sair")]):t._e()])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"container"},[s("router-view")],1)]),s("el-dialog",{attrs:{"close-on-click-modal":!1,title:"login"==t.formAuth?"LOGIN":"NOVO CADASTRO",width:"30%",visible:t.$store.state.dialogAutentication.status},on:{"update:visible":function(e){return t.$set(t.$store.state.dialogAutentication,"status",e)},close:function(e){return t.resetFormAutentication()}}},[t.$store.state.dialogAutentication.status?s("div",["login"==t.$store.state.dialogAutentication.form?s("div",[s("h4",[t._v("Entre com suas credenciais")]),s("el-form",{ref:"formLogin",staticClass:"u-mt-10",attrs:{model:t.formLogin,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.onSubmitLogin(e)}}},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"email",attrs:{prop:"email",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{placeholder:"E-mail"},model:{value:t.formLogin.email,callback:function(e){t.$set(t.formLogin,"email",e)},expression:"formLogin.email"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"password",attrs:{prop:"password",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{placeholder:"Senha",type:"password"},model:{value:t.formLogin.password,callback:function(e){t.$set(t.formLogin,"password",e)},expression:"formLogin.password"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:8,md:8}},[s("a",{staticClass:"btn-new-register",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openDialogAutentication("register")}}},[t._v("Não tenho cadastro")])]),s("el-col",{staticClass:"u-text-right",attrs:{xs:24,sm:16,md:16}},[s("el-button",{staticClass:"btn-login",attrs:{type:"primary","native-type":"submit",plain:""}},[s("i",{staticClass:"fas fa-sign-in-alt"}),t._v(" ENTRAR ")])],1)],1)],1)],1):t._e(),"register"==t.$store.state.dialogAutentication.form?s("div",[s("el-form",{ref:"formRegister",staticClass:"u-mt-20",attrs:{model:t.formRegister,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.onSubmitRegister(e)}}},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"name",attrs:{prop:"name",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{placeholder:"Seu Nome"},model:{value:t.formRegister.name,callback:function(e){t.$set(t.formRegister,"name",e)},expression:"formRegister.name"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"phone",attrs:{prop:"phone",rules:[t.$requiredBlur]}},[s("el-input",{directives:[{name:"mask",rawName:"v-mask",value:"(##) #########",expression:"'(##) #########'"}],attrs:{placeholder:"Telefone"},model:{value:t.formRegister.phone,callback:function(e){t.$set(t.formRegister,"phone",e)},expression:"formRegister.phone"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"andress",attrs:{prop:"andress",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{placeholder:"Endereço"},model:{value:t.formRegister.andress,callback:function(e){t.$set(t.formRegister,"andress",e)},expression:"formRegister.andress"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"email",attrs:{prop:"email",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{placeholder:"E-mail"},model:{value:t.formRegister.email,callback:function(e){t.$set(t.formRegister,"email",e)},expression:"formRegister.email"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"password",attrs:{prop:"password",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{placeholder:"Senha",type:"password"},model:{value:t.formRegister.password,callback:function(e){t.$set(t.formRegister,"password",e)},expression:"formRegister.password"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:8,md:8}},[s("a",{staticClass:"btn-new-register",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openDialogAutentication("login")}}},[t._v("Já possuo cadastro")])]),s("el-col",{staticClass:"u-text-right",attrs:{xs:24,sm:16,md:16}},[s("el-button",{staticClass:"btn-login",attrs:{type:"primary","native-type":"submit",plain:""}},[s("i",{staticClass:"fas fa-sign-in-alt"}),t._v(" CADASTRO ")])],1)],1)],1)],1):t._e()]):t._e()])],1)},o=[],r={data:()=>({formAuth:"login",formLogin:{email:"",password:""},formRegister:{name:"",phone:"",andress:"",email:"",password:""}}),mounted(){this.$store.state.tokenClient&&this.$store.dispatch("getUser","client")},methods:{openAreaAdministrative(){this.$router.push("/admin")},openMySales(){this.$router.push("/").catch(()=>{})},openDialogAutentication(t){this.$store.commit("openDialogAutentication",{status:!0,form:t})},logout(){this.$store.commit("logoutCliente")},onSubmitLogin(){this.$refs.formLogin.validate(t=>{t?this.$axios.post(this.$store.state.baseUrlApi+"/api/user/login-client",this.formLogin,this.$store.getters.getHeaderAuthClient).then(t=>{"undefined"!==typeof t.data.erro?this.$message({message:t.data.erro,type:"warning",duration:5e3}):"undefined"===typeof t.data.token?this.$message({message:"Não foi possível realizar o login do usuário",type:"warning",duration:5e3}):(this.$store.commit("setTokenClient",t.data.token),this.$store.commit("setUser",{id:t.data.id,name:t.data.name,email:t.data.email,type:t.data.type}),this.$store.commit("openDialogAutentication",{status:!1,form:"login"}))}).catch(t=>{this.$store.commit("throwException",t)}):this.$message({message:"Campos obrigatórios não foram preenchidos.",type:"warning",duration:5e3})})},onSubmitRegister(){this.$refs.formRegister.validate(t=>{t?this.$axios.post(this.$store.state.baseUrlApi+"/api/client/store",this.formRegister,this.$store.getters.getHeaderAuthClient).then(t=>{"undefined"!==typeof t.data.erro?this.$message({message:t.data.erro,type:"warning",duration:5e3}):(this.$store.commit("setTokenClient",t.data.token),this.$store.commit("setUser",{id:t.data.id,name:t.data.name,email:t.data.email,type:t.data.type}),this.$store.commit("openDialogAutentication",{status:!1,form:"login"}),this.$message({message:"Usuário Cadastrado com Sucesso!.",type:"success",duration:5e3}))}).catch(t=>{this.$store.commit("throwException",t)}):this.$message({message:"Campos obrigatórios não foram preenchidos.",type:"warning",duration:5e3})})},resetFormAutentication(){this.formLogin={email:"",password:""},this.formRegister={name:"",phone:"",andress:"",email:"",password:""}}}},a=r,n=s("2877"),l=Object(n["a"])(a,i,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0dae25.9697fb63.js.map