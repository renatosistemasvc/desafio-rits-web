(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cca23"],{"4f83":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("c-panel",[a("list")],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"u-mt-10 u-mb-20"},[a("el-col",{attrs:{xs:24,sm:16,md:16}},[a("el-input",{attrs:{size:"small",placeholder:"Pesquisar produto..."},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadingProduct(e)}},model:{value:t.filtro["name"],callback:function(e){t.$set(t.filtro,"name",e)},expression:"filtro['name']"}})],1),a("el-col",{staticClass:"u-text-right",attrs:{xs:24,sm:8,md:8}},[a("router-link",{staticClass:"btn-new-register",attrs:{to:"/admin/produto/cadastro"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("NOVO PRODUTO")])],1)],1)],1),a("div",{staticClass:"container-table"},[a("table",{directives:[{name:"loading",rawName:"v-loading",value:!t.statusList,expression:"!statusList"}],staticClass:"table table-striped"},[t._m(0),a("tbody",t._l(t.items,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v("R$ "+t._s(t.formatPrice(e.price)))]),a("td",{staticClass:"u-text-center acao"},[a("router-link",{staticClass:"link-icon",staticStyle:{color:"rgba(0, 0, 0, 0.87) !important"},attrs:{to:"/admin/produto/edit/"+e.id}},[a("el-button",{attrs:{type:"warning",title:"Editar",icon:"el-icon-edit",size:"mini"}})],1),a("el-button",{attrs:{title:"Visualizar Detalhes",type:"info",size:"mini"},on:{click:function(a){return t.showInfo(e)}}},[a("i",{staticClass:"fas fa-search"})]),a("el-button",{attrs:{title:"Excluir",type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.deleteProduct(e.id)}}})],1)])})),0)]),t.statusList?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12}},[a("div",{staticClass:"u-text-left u-mt-10"},[t._v(" Mostrando "+t._s(t.paginate.from)+" até "+t._s(t.paginate.to)+" de "+t._s(t.paginate.qtdItens)+" registros encontrados. ")])]),t.paginate.qtdItens>20?a("el-col",{attrs:{xs:24,sm:12,md:12}},[a("div",{staticClass:"u-text-right"},[a("el-pagination",{staticClass:"u-mt-10",attrs:{"current-page":t.paginate.page,total:t.paginate.qtdItens,"page-size":20,background:"",layout:"prev, pager, next",small:""},on:{"current-change":t.getPagePagination}})],1)]):t._e()],1):t._e()],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"DETALHES DO PRODUTO",width:"60%",visible:t.dialogInfoProduct},on:{"update:visible":function(e){t.dialogInfoProduct=e}}},[t.dialogInfoProduct?a("div",[0!==Object.keys(t.productSelected).length?a("div",[a("el-row",{staticClass:"u-mt-20",attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("dl",[a("dt",[t._v("NOME:")]),a("dd",[t._v(t._s(t.productSelected.name))])])])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("dl",[a("dt",[t._v("PREÇO:")]),a("dd",[t._v(t._s(t.productSelected.price))])])])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("dl",[a("dt",[t._v("DESCRIÇÃO:")]),a("dd",[t._v(t._s(t.productSelected.description))])])])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"u-text-right",attrs:{xs:24}},[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.dialogInfoProduct=!1}}},[t._v("FECHAR")])],1)],1)],1):t._e()]):t._e()])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"70px"}},[t._v("Cod.")]),a("th",[t._v("Nome")]),a("th",[t._v("Valor")]),a("th",{staticClass:"u-text-center",staticStyle:{width:"160px"}},[t._v("Ação")])])])}],n={data:()=>({dialogInfoProduct:!1,statusList:!1,filtro:{name:""},paginate:{page:1,qtdItens:null,from:"",to:""},items:[],productSelected:{}}),mounted(){this.loadingProduct()},methods:{showInfo(t){this.productSelected=t,this.dialogInfoProduct=!0},loadingProduct(){this.statusList=!1,this.items=[],this.$axios.post(this.$store.state.baseUrlApi+"/api/product/getAllPaginate?page="+this.paginate.page,this.filtro,this.$store.getters.getHeaderAuthAdmin).then(t=>{this.items=t.data.data,this.paginate.qtdItens=t.data.total,this.paginate.from=t.data.from,this.paginate.to=t.data.to,this.statusList=!0}).catch(t=>{this.$store.commit("throwException",t)})},deleteProduct(t){this.$msgbox.confirm("Tem certeza que deseja excluir este produto?","Atenção",{confirmButtonText:"Sim",cancelButtonText:"Não",type:"warning"}).then(()=>{window.eventBus.$emit("loading",!0),this.$axios.delete(this.$store.state.baseUrlApi+"/api/product/delete/"+t,this.$store.getters.getHeaderAuthAdmin).then(t=>{window.eventBus.$emit("loading",!1),window.eventBus.$emit("alert",{msg:"Sucesso! - Operação realizada com Sucesso!",type:"success"}),this.loadingProduct()}).catch(t=>{this.$message({message:"Ocorreu um erro!.",type:"warning",duration:5e3})})}).catch(()=>{})},getPagePagination(t){this.paginate.page=t,this.loadingProduct()},formatPrice(t){if(!t)return"-";let e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},l=n,d=a("2877"),c=Object(d["a"])(l,o,r,!1,null,null,null),u=c.exports,m={components:{list:u}},p=m,g=Object(d["a"])(p,s,i,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0cca23.e4e2ad33.js.map