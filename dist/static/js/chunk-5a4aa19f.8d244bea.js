(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a4aa19f"],{"28ea":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"list-product"},[s("ul",[s("li",{staticClass:"btn-open-novo-pedido"},[s("div",{staticClass:"u-text-right"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.openNovoPedido()}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" NOVO PEDIDO ")])],1)]),t._l(t.sales,(function(e,r){return s("li",{key:r,staticClass:"item-sale"},[s("a",{attrs:{href:"javascript:void(0)"}},[s("div",{staticClass:"image-product",on:{click:function(s){return t.showInfo(e)}}},[s("img",{attrs:{src:"/public/img/lanche.png"}})]),s("div",{staticClass:"description-product",on:{click:function(s){return t.showInfo(e)}}},[s("h3",[t._v(t._s(t.$moment(e.date).format("DD/MM/YYYY HH:mm:ss")))]),s("b",[t._v("Valor: R$ "+t._s(e.price_sale))]),s("i",[t._v("Status: "+t._s(t.$CONSTANTS.STATUS_SALES[e.status]))])]),s("div",{staticClass:"info-item"},[5==e.status?s("div",{staticClass:"price-product sale-canceled"},[s("i",{staticClass:"fas fa-ban"})]):t._e(),5!=e.status?s("div",{staticClass:"price-product",on:{click:function(s){return t.cancelSale(e)}}},[s("i",{staticClass:"far fa-trash-alt"})]):t._e()])])])})),t.paginate.qtdItens>10?s("li",[s("div",{staticClass:"u-text-right u-mt-10"},[s("el-pagination",{attrs:{total:t.paginate.qtdItens,"page-size":10,background:"",layout:"prev, pager, next",small:""},on:{"current-change":t.getPagePagination}})],1)]):t._e()],2)]),s("el-dialog",{attrs:{"close-on-click-modal":!1,title:"DETALHES DO PEDIDO",width:"40%",visible:t.dialogInfoSale},on:{"update:visible":function(e){t.dialogInfoSale=e}}},[t.dialogInfoSale?s("div",[0!==Object.keys(t.saleSelected).length?s("div",[s("el-row",{staticClass:"u-mt-20",attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("dl",[s("dt",[t._v("CLIENTE:")]),s("dd",[t._v(t._s(t.saleSelected.client.name))])])])],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("dl",[s("dt",[t._v("data:")]),s("dd",[t._v(t._s(t.$moment(t.saleSelected.date).format("DD/MM/YYYY HH:mm:ss")))])])])],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("dl",[s("dt",[t._v("VALOR TOTAL:")]),s("dd",[t._v("R$ "+t._s(t.formatPrice(t.saleSelected.price_sale)))])])])],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("dl",[s("dt",[t._v("STATUS:")]),s("dd",[t._v(t._s(t.$CONSTANTS.STATUS_SALES[t.saleSelected.status]))])])])],1),s("h4",[t._v("ITENS DO PEDIDO")]),s("ul",t._l(t.saleSelected.itens_sale,(function(e,r){return s("li",{key:r,staticStyle:{padding:"10px"}},[s("b",{staticStyle:{display:"block"}},[t._v(t._s(e.product.name))]),s("i",[t._v("SubTotal: "+t._s(e.price_subtotal)+" / "+t._s(e.quanty)+" un")])])})),0),s("el-row",{attrs:{gutter:10}},[s("el-col",{staticClass:"u-text-right",attrs:{xs:24}},[s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.dialogInfoSale=!1}}},[t._v("FECHAR")])],1)],1)],1):t._e()]):t._e()])],1)},i=[];s("9dcd");var n={data:()=>({dialogInfoSale:!1,loadingSales:!1,dialogAddProduct:!1,sales:[],paginate:{page:1,qtdItens:null},saleSelected:{}}),mounted(){this.getAllSales()},methods:{showInfo(t){console.log(t),this.saleSelected=t,this.dialogInfoSale=!0},cancelSale(t){this.$msgbox.confirm("Tem certeza que deseja cancelar este pedido?","Atenção",{confirmButtonText:"Sim",cancelButtonText:"Não",type:"warning"}).then(()=>{this.$axios.get(`${this.$store.state.baseUrlApi}/api/sale/cancelSale/${t.id}`,this.$store.getters.getHeaderAuthClient).then(t=>{"undefined"!==typeof t.data.erro?this.$message({message:t.data.erro,type:"warning",duration:5e3}):(this.$message({message:"Pedido cancelado com sucesso!",type:"success",duration:5e3}),this.getAllSales())}).catch(t=>{this.$store.commit("throwException",t)})}).catch(()=>{})},openNovoPedido(){this.$router.push("/novo-pedido")},getAllSales(){this.loadingSales=!0,this.sales=[],this.$axios.post(`${this.$store.state.baseUrlApi}/api/sale/getAllPaginate?page=${this.paginate.page}`,{},this.$store.getters.getHeaderAuthClient).then(t=>{this.sales=t.data.data,this.paginate.qtdItens=t.data.total,this.loadingSales=!1}).catch(t=>{this.$store.commit("throwException",t)})},formatPrice(t){if(!t)return"-";let e=(t/1).toFixed(2).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getPagePagination(t){this.paginate.page=t,this.getAllSales()}}},o=n,a=s("2877"),l=Object(a["a"])(o,r,i,!1,null,null,null);e["default"]=l.exports},"9dcd":function(t,e,s){var r;(function(i){"use strict";var n,o=20,a=1,l=1e6,c=1e6,u=-7,f=21,d="[big.js] ",h=d+"Invalid ",g=h+"decimal places",p=h+"rounding mode",v=d+"Division by zero",m={},w=void 0,S=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _(){function t(e){var s=this;if(!(s instanceof t))return e===w?_():new t(e);e instanceof t?(s.s=e.s,s.e=e.e,s.c=e.c.slice()):b(s,e),s.constructor=t}return t.prototype=m,t.DP=o,t.RM=a,t.NE=u,t.PE=f,t.version="5.2.2",t}function b(t,e){var s,r,i;if(0===e&&1/e<0)e="-0";else if(!S.test(e+=""))throw Error(h+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(s=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(s<0&&(s=r),s+=+e.slice(r+1),e=e.substring(0,r)):s<0&&(s=e.length),i=e.length,r=0;r<i&&"0"==e.charAt(r);)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=s-r-1,t.c=[],s=0;r<=i;)t.c[s++]=+e.charAt(r++)}return t}function E(t,e,s,r){var i=t.c,n=t.e+e+1;if(n<i.length){if(1===s)r=i[n]>=5;else if(2===s)r=i[n]>5||5==i[n]&&(r||n<0||i[n+1]!==w||1&i[n-1]);else if(3===s)r=r||!!i[0];else if(r=!1,0!==s)throw Error(p);if(n<1)i.length=1,r?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=n--,r)for(;++i[n]>9;)i[n]=0,n--||(++t.e,i.unshift(1));for(n=i.length;!i[--n];)i.pop()}}else if(s<0||s>3||s!==~~s)throw Error(p);return t}function A(t,e,s,r){var i,n,o=t.constructor,a=!t.c[0];if(s!==w){if(s!==~~s||s<(3==e)||s>l)throw Error(3==e?h+"precision":g);for(t=new o(t),s=r-t.e,t.c.length>++r&&E(t,s,o.RM),2==e&&(r=t.e+s+1);t.c.length<r;)t.c.push(0)}if(i=t.e,n=t.c.join(""),s=n.length,2!=e&&(1==e||3==e&&r<=i||i<=o.NE||i>=o.PE))n=n.charAt(0)+(s>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>s)for(i-=s;i--;)n+="0";else i<s&&(n=n.slice(0,i)+"."+n.slice(i));else s>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&(!a||4==e)?"-"+n:n}m.abs=function(){var t=new this.constructor(this);return t.s=1,t},m.cmp=function(t){var e,s=this,r=s.c,i=(t=new s.constructor(t)).c,n=s.s,o=t.s,a=s.e,l=t.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-o:0;if(n!=o)return n;if(e=n<0,a!=l)return a>l^e?1:-1;for(o=(a=r.length)<(l=i.length)?a:l,n=-1;++n<o;)if(r[n]!=i[n])return r[n]>i[n]^e?1:-1;return a==l?0:a>l^e?1:-1},m.div=function(t){var e=this,s=e.constructor,r=e.c,i=(t=new s(t)).c,n=e.s==t.s?1:-1,o=s.DP;if(o!==~~o||o<0||o>l)throw Error(g);if(!i[0])throw Error(v);if(!r[0])return new s(0*n);var a,c,u,f,d,h=i.slice(),p=a=i.length,m=r.length,S=r.slice(0,a),_=S.length,b=t,A=b.c=[],x=0,P=o+(b.e=e.e-t.e)+1;for(b.s=n,n=P<0?0:P,h.unshift(0);_++<a;)S.push(0);do{for(u=0;u<10;u++){if(a!=(_=S.length))f=a>_?1:-1;else for(d=-1,f=0;++d<a;)if(i[d]!=S[d]){f=i[d]>S[d]?1:-1;break}if(!(f<0))break;for(c=_==a?i:h;_;){if(S[--_]<c[_]){for(d=_;d&&!S[--d];)S[d]=9;--S[d],S[_]+=10}S[_]-=c[_]}for(;!S[0];)S.shift()}A[x++]=f?u:++u,S[0]&&f?S[_]=r[p]||0:S=[r[p]]}while((p++<m||S[0]!==w)&&n--);return A[0]||1==x||(A.shift(),b.e--),x>P&&E(b,o,s.RM,S[0]!==w),b},m.eq=function(t){return!this.cmp(t)},m.gt=function(t){return this.cmp(t)>0},m.gte=function(t){return this.cmp(t)>-1},m.lt=function(t){return this.cmp(t)<0},m.lte=function(t){return this.cmp(t)<1},m.minus=m.sub=function(t){var e,s,r,i,n=this,o=n.constructor,a=n.s,l=(t=new o(t)).s;if(a!=l)return t.s=-l,n.plus(t);var c=n.c.slice(),u=n.e,f=t.c,d=t.e;if(!c[0]||!f[0])return f[0]?(t.s=-l,t):new o(c[0]?n:0);if(a=u-d){for((i=a<0)?(a=-a,r=c):(d=u,r=f),r.reverse(),l=a;l--;)r.push(0);r.reverse()}else for(s=((i=c.length<f.length)?c:f).length,a=l=0;l<s;l++)if(c[l]!=f[l]){i=c[l]<f[l];break}if(i&&(r=c,c=f,f=r,t.s=-t.s),(l=(s=f.length)-(e=c.length))>0)for(;l--;)c[e++]=0;for(l=e;s>a;){if(c[--s]<f[s]){for(e=s;e&&!c[--e];)c[e]=9;--c[e],c[s]+=10}c[s]-=f[s]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(t.s=1,c=[d=0]),t.c=c,t.e=d,t},m.mod=function(t){var e,s=this,r=s.constructor,i=s.s,n=(t=new r(t)).s;if(!t.c[0])throw Error(v);return s.s=t.s=1,e=1==t.cmp(s),s.s=i,t.s=n,e?new r(s):(i=r.DP,n=r.RM,r.DP=r.RM=0,s=s.div(t),r.DP=i,r.RM=n,this.minus(s.times(t)))},m.plus=m.add=function(t){var e,s=this,r=s.constructor,i=s.s,n=(t=new r(t)).s;if(i!=n)return t.s=-n,s.minus(t);var o=s.e,a=s.c,l=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new r(a[0]?s:0*i);if(a=a.slice(),i=o-l){for(i>0?(l=o,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,n=0;i;a[i]%=10)n=(a[--i]=a[i]+c[i]+n)/10|0;for(n&&(a.unshift(n),++l),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=l,t},m.pow=function(t){var e=this,s=new e.constructor(1),r=s,i=t<0;if(t!==~~t||t<-c||t>c)throw Error(h+"exponent");for(i&&(t=-t);;){if(1&t&&(r=r.times(e)),t>>=1,!t)break;e=e.times(e)}return i?s.div(r):r},m.round=function(t,e){var s=this.constructor;if(t===w)t=0;else if(t!==~~t||t<-l||t>l)throw Error(g);return E(new s(this),t,e===w?s.RM:e)},m.sqrt=function(){var t,e,s,r=this,i=r.constructor,n=r.s,o=r.e,a=new i(.5);if(!r.c[0])return new i(r);if(n<0)throw Error(d+"No square root");n=Math.sqrt(r+""),0===n||n===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),n=Math.sqrt(e),o=((o+1)/2|0)-(o<0||1&o),t=new i((n==1/0?"1e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+o)):t=new i(n),o=t.e+(i.DP+=4);do{s=t,t=a.times(s.plus(r.div(s)))}while(s.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return E(t,i.DP-=4,i.RM)},m.times=m.mul=function(t){var e,s=this,r=s.constructor,i=s.c,n=(t=new r(t)).c,o=i.length,a=n.length,l=s.e,c=t.e;if(t.s=s.s==t.s?1:-1,!i[0]||!n[0])return new r(0*t.s);for(t.e=l+c,o<a&&(e=i,i=n,n=e,c=o,o=a,a=c),e=new Array(c=o+a);c--;)e[c]=0;for(l=a;l--;){for(a=0,c=o+l;c>l;)a=e[c]+n[l]*i[c-l-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),l=e.length;!e[--l];)e.pop();return t.c=e,t},m.toExponential=function(t){return A(this,1,t,t)},m.toFixed=function(t){return A(this,2,t,this.e+t)},m.toPrecision=function(t){return A(this,3,t,t-1)},m.toString=function(){return A(this)},m.valueOf=m.toJSON=function(){return A(this,4)},n=_(),n["default"]=n.Big=n,r=function(){return n}.call(e,s,e,t),void 0===r||(t.exports=r)})()}}]);
//# sourceMappingURL=chunk-5a4aa19f.8d244bea.js.map