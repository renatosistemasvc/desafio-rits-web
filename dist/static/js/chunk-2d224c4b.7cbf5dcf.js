(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224c4b"],{e219:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("c-panel",[s("form-product",{attrs:{paramId:t.$route.params.id},on:{onSubmitProduct:t.onSubmitProduct}})],1)],1)},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.editProduct&&!t.dados.id,expression:"editProduct && !dados.id"}],ref:"dados",staticStyle:{"min-height":"130px"},attrs:{model:t.dados,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.onSubmitProduct(e)}}},[!t.editProduct||t.dados.id?s("div",[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:16,md:16}},[s("el-form-item",{key:"name",attrs:{label:"Nome",prop:"name",rules:[t.$requiredBlur]}},[s("el-input",{attrs:{maxlength:"191"},model:{value:t.dados.name,callback:function(e){t.$set(t.dados,"name",e)},expression:"dados.name"}})],1)],1),s("el-col",{staticClass:"input-money",attrs:{xs:24,sm:8,md:8}},[s("el-form-item",{key:"price",attrs:{label:"Preço",prop:"price",rules:[t.$requiredBlur]}},[s("money",t._b({model:{value:t.dados.price,callback:function(e){t.$set(t.dados,"price",e)},expression:"dados.price"}},"money",{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1},!1))],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("el-form-item",{key:"description",attrs:{label:"Descrição",prop:"description"}},[s("el-input",{attrs:{rows:5,type:"textarea"},model:{value:t.dados.description,callback:function(e){t.$set(t.dados,"description",e)},expression:"dados.description"}})],1)],1)],1),s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{xs:24}},[s("el-form-item",{staticClass:"u-text-right u-mt-15"},[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("SALVAR")])],1)],1)],1)],1):t._e()])],1)},r=[],d={props:["paramId"],data:()=>({editProduct:!1,alert:!1,dados:{id:"",nome:"",description:"",price:""}}),mounted(){},methods:{getProductById(t){this.$axios.get(this.$store.state.baseUrlApi+"/api/product/getById/"+t,this.$store.getters.getHeaderAuthAdmin).then(t=>{this.dados=JSON.parse(JSON.stringify(t.data))}).catch(t=>{this.$store.commit("throwException",t)})},onSubmitProduct(){this.$refs.dados.validate(t=>{t?(window.eventBus.$emit("loading",!0),this.editProduct?this.$axios.post(this.$store.state.baseUrlApi+"/api/product/update/"+this.dados.id,this.dados,this.$store.getters.getHeaderAuthAdmin).then(t=>{window.eventBus.$emit("loading",!1),window.eventBus.$emit("alert",{msg:"Sucesso! - Operação realizada com Sucesso!",type:"success"}),this.$emit("onSubmitProduct")}).catch(t=>{window.eventBus.$emit("loading",!1),this.$store.commit("throwException",t)}):this.$axios.post(this.$store.state.baseUrlApi+"/api/product/store",this.dados,this.$store.getters.getHeaderAuthAdmin).then(t=>{window.eventBus.$emit("loading",!1),window.eventBus.$emit("alert",{msg:"Sucesso! - Operação realizada com Sucesso!",type:"success"}),this.$emit("onSubmitProduct")}).catch(t=>{window.eventBus.$emit("loading",!1),this.$store.commit("throwException",t)})):window.eventBus.$emit("alert",{msg:"Campos obrigatórios não foram preenchidos.",type:"warning"})})},resetFormProduct(){this.dados={id:"",nome:"",descricao:"",ativa:"",emDestaque:null,imagem:""},this.$refs.dados.clearValidate()},formatData(t,e=null){if(!this.dados[t])return!1;e&&this.dados[t].length<e&&(this.dados[t]=""),this.dados[t]=this.dados[t].toUpperCase(),this.dados[t]=this.$removerAcentos(this.dados[t])}},watch:{paramId:{immediate:!0,handler(t){t&&(this.getProductById(t),this.editProduct=!0)}}}},n=d,c=s("2877"),u=Object(c["a"])(n,a,r,!1,null,null,null),l=u.exports,m={methods:{onSubmitProduct(){this.$router.push("/admin/produto")}},components:{formProduct:l}},p=m,h=Object(c["a"])(p,o,i,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d224c4b.7cbf5dcf.js.map